% autorefs
\AtBeginDocument{%
\renewcommand{\chapterautorefname}{Chap.}
\renewcommand{\sectionautorefname}{Sect.}
\renewcommand{\subsectionautorefname}{Sect.}
\renewcommand{\subsubsectionautorefname}{Sect.}
\renewcommand{\figureautorefname}{Fig.}
\newcommand{\definitionautorefname}{Def.}
\newcommand{\algorithmautorefname}{Algo.}
\newcommand{\notationautorefname}{Notation}}

% Algorithms
\algtext*{EndWhile} % Remove "end while" text
\algtext*{EndIf} % Remove "end if" text
\algrenewcommand\alglinenumber[1]{\footnotesize #1}

% set min-length for dot-fill
\DeclareRobustCommand\mydotfill{%
\leavevmode
\cleaders \hbox to.44em{\hss.\hss}\hskip 1.32em plus 1fill
\kern0pt }

% Index
\makeatletter
\renewenvironment{theindex}
{{\chapter{\indexname}\label{sec:app:index}}\par%
\@mkboth{\MakeUppercase\indexname}{\MakeUppercase\indexname}%
\parindent\z@
\parskip\z@ \@plus .5\p@\relax
\let\item\@idxitem
\setlength{\columnsep}{20pt}
\setlength{\parindent}{0em}
%\setlength{\marginparwidth}{0pc}
\begin{multicols*}{2}\raggedcolumns}
{\end{multicols*}}
\renewcommand{\@idxitem}{\par\hangindent 21\p@}
\makeatother

\begin{filecontents}{\jobname.mst}
headings_flag 1
heading_prefix "\{\\normalsize\\textbf\{"
heading_suffix "\}\}\\nopagebreak\n"
delim_0 " \\mydotfill \\footnotesize~"
delim_1 " \\mydotfill \\footnotesize~"
delim_2 " \\mydotfill \\footnotesize~"
delim_t "\\normalsize"
\end{filecontents}

% Glossaries
% custom glossary style, match index
\renewcommand{\glsdescwidth}{11cm}
%\newglossarystyle{longraggeddots}{%
%    \glossarystyle{longragged}%
%    \renewcommand*\glossaryentryfield[5]{%
%        \glstarget{##1}{##2} & \makefirstuc{##4}##3\glspostdescription\space\mydotfill\space\footnotesize{##5}\tabularnewline
%    }%
%}

% double space -> mdframed, captions, footnotes
\mdfsetup{startinnercode={\doublespacing}}
\DeclareCaptionJustification{double}{\doublespacing}
\captionsetup{justification=double}
\renewcommand{\footnotelayout}{\doublespacing}
\setlength{\footnotesep}{\baselineskip}