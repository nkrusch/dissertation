% All sections begin on a new page
\AddToHook{cmd/chapter/before}{\clearpage}

% Content tables
\setcounter{tocdepth}{2}
\AtBeginDocument{\addtocontents{toc}{\protect\thispagestyle{empty}}}
\renewcaptionname{english}{\contentsname}{Table of Contents}
\renewcommand\thechapter{\Roman{chapter}}
\renewcommand\thesection{\arabic{section}}
\renewcommand{\cftchapnumwidth}{25pt}
\renewcommand{\cftsecnumwidth}{25pt}
\renewcommand{\cftsubsecnumwidth}{25pt}
\setlength{\cftsecindent}{0pt} % indent for section
\setlength{\cftsubsecindent}{25pt} % indent for subsection
\setlength{\cftbeforechapskip}{12pt} % Space before chapters
\setlength{\cftbeforesecskip}{10pt} % Space before sections
\setlength{\cftbeforesubsecskip}{4pt} % Space before subsections
\makeatletter
\def\l@figure{\@dottedtocline{1}{0pt}{35pt}} % figures indentation
\def\l@table{\@dottedtocline{1}{0pt}{35pt}}  % tables indentation
\makeatother

% Fonts
\SetMathAlphabet{\mathsfbf}{sans}{\sansmathencoding}{\sfdefault}{bx}{sl}
% TODO: how to set all at once?
\addtokomafont{disposition}{\rmfamily}
\addtokomafont{section}{\rmfamily}
\addtokomafont{subsection}{\rmfamily\rule{0pt}{30pt}}
\addtokomafont{subsubsection}{\rmfamily}
\addtokomafont{chapterentry}{\rmfamily}
\addtokomafont{descriptionlabel}{\rmfamily}

% Accronyms and index formatting
\setacronymstyle{long-short}
\makeatletter
\renewenvironment{theindex}
{{\section{\indexname}\label{sec:app:index}}\par%
\@mkboth{\MakeUppercase\indexname}{\MakeUppercase\indexname}%
\parindent\z@
\parskip\z@ \@plus .3\p@\relax
\let\item\@idxitem
\begin{multicols}{2}}
{\end{multicols}}
\makeatother

% autorefs
\AtBeginDocument{%
\renewcommand{\chapterautorefname}{Chap.}
\renewcommand{\sectionautorefname}{Sect.}
\renewcommand{\subsectionautorefname}{Sect.}
\renewcommand{\figureautorefname}{Fig.}
\newcommand{\definitionautorefname}{Def.}
\newcommand{\algorithmautorefname}{Algo.}
\newcommand{\notationautorefname}{Notation}}

% Comma after eg and ie
\newcommand*{\eg}{e.g.\@,\xspace}
\newcommand*{\Eg}{E.g.\@,\xspace}
\newcommand*{\cf}{cf.\@\xspace}
\newcommand*{\ie}{i.e.\@,\xspace}
\newcommand*{\aka}{a.k.a.\@\xspace}
\newcommand*{\Ie}{I.e.,\@\xspace}
\newcommand{\stt}{s.t.\@\xspace}
\newcommand*{\resp}{resp.\@\xspace}
\newcommand*{\wrt}{w.r.t.\@\xspace}
\newcommand*{\wlg}{w.l.o.g.\@\xspace}
\renewcommand{\aka}{a.k.a.\@\xspace}

\makeatletter
\newcommand*{\etc}{%
    \@ifnextchar{.}%
{etc}%
{etc.\@\xspace}%
}
\makeatother

% Algorithms
\algtext*{EndWhile} % Remove "end while" text
\algtext*{EndIf} % Remove "end if" text

