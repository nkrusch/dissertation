\begin{figure}
\begin{subfigure}{\textwidth}
    \begin{center}
    \begin{tabular}{l}
        \begin{prooftree}[small]
            \infer0[S]{ \vdashJK \text{\pr|skip|} : \umat }
        \end{prooftree}
        \hspace{4em}
        \begin{prooftree}[small]
            \infer0[E1]{ \vdashJK \text{\pr|Xi|} : \{_{\text{\,\pr| i|}}^{m}\}}
        \end{prooftree}
        \hspace{4em}
        \begin{prooftree}[small]
            \infer0[E2]{ \vdashJK \text{\pr{e}} : \{_{\text{\,\pr|i|}}^{w} \mid \text{\pr|Xi|} \in \var(\text{\pr{e}}) \}}
        \end{prooftree}
    \end{tabular}
    \end{center}
\end{subfigure}
\\[1.2em]
\begin{subfigure}{\textwidth}
    \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}} c c}
    \begin{prooftree}[small]
        \hypo{\vdashJK \text{\pr{Xi}} : V_1}
        \hypo{\vdashJK \text{\pr{Xj}} : V_2}
        \infer[left label={\(\star\in\{+, -\}\)}]2[E3]{\vdashJK \text{\pr|Xi $\star$ Xj|} : pV_1 \oplus V_2}
    \end{prooftree}
    &
    \begin{prooftree}[small]
        \hypo{\vdashJK \text{\pr{Xi}} : V_1}
        \hypo{\vdashJK \text{\pr{Xj}} : V_2}
        \infer[left label={\(\star\in\{+, -\}\)}]2[E4]{\vdashJK \text{\pr|Xi $\star$ Xj|} : V_1 \oplus pV_2}
    \end{prooftree}
    \end{tabular*}
\end{subfigure}
\\[1.2em]
\begin{subfigure}{\textwidth}
    \begin{centering}
        \begin{prooftree}[small]
            \hypo{ \vdashJK \text{\pr{e}} : V}
            \infer1[A]{\vdashJK \text{\pr|Xj = e|} : \umat \xleftarrow{\text{\pr|j|}} V}
        \end{prooftree}
        \hspace{5em}
        \begin{prooftree}[small]
            \hypo{ \vdashJK \text{\pr{C1}} : M_1}
            \hypo{ \vdashJK \text{\pr{C2}} : M_2}
            \infer2[C]{\vdashJK \text{\pr{C1;C2}} : M_1 \otimes M_2}
        \end{prooftree}
        \\[1.2em]
        \begin{prooftree}[small]
            \hypo{ \vdashJK \text{\pr{C1}} : M_1}
            \hypo{ \vdashJK \text{\pr{C2}} : M_2}
            \infer2[I]{\vdashJK \text{\pr|if b then C1 $\text{\hspace{.3em}}$ else C2|} : M_1 \oplus M_2}
        \end{prooftree}
        \\[1.2em]
        \begin{prooftree}[small]
            \hypo{\vdashJK \text{\pr|C|} : M}
            \infer[left label={\(\forall i, M_{ii}^* = m\)}]1[L]{\vdashJK \text{\pr|loop Xl \{C\}|} : M^* \oplus \{_{\text{\pr|l|}}^{p}\rightarrow j \mid \exists i, M_{ij}^* = p\}}
        \end{prooftree}
        \\[1.2em]
        \begin{prooftree}[small]
            \hypo{\vdashJK \text{\pr|C|} : M}
            \infer[left label={\(\forall i, M_{ii}^* = m\) and \(\forall i, j, M^*_{ij} \neq p\)}]1[W]{\vdashJK \text{\pr|while b do  \{C\}|} : M^*}
        \end{prooftree}
    \end{centering}
\end{subfigure}
\caption{The original non-deterministic flow analysis rules.}
\label{fig:og-rules}
\end{figure}
