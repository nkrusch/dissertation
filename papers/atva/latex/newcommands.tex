%%%%%%%%% Styles
%\theoremstyle{remark}
%\newtheorem{theorem}{Theorem}
%\newtheorem{corollary}{Corollary}
%\newtheorem{lemma}{Lemma}
%\newtheorem{definition}{Definition}
%\newtheorem{conjecture}[theorem]{Conjecture}
%\newtheorem{proposition}{Proposition}[section]
%\newtheorem{claim}{Claim}
%\newtheorem{remark}{Remark}
%\newtheorem{notation}{Notation}
%\newtheorem{example}{Example}
%\newtheorem{examples}{Examples}
%\newtheorem{remarks}{Remarks}
%\newtheorem{facts}{Facts}
%\newtheorem{fact}{Fact}

%\def\definitionautorefname{Definition}
%\def\remarkautorefname{Remark}
%\def\examplesautorefname{Examples}
%\def\factautorefname{Fact}
%\def\lemmaautorefname{Lemma}
\AtBeginDocument{%
	\renewcommand{\sectionautorefname}{Sect.}
	\renewcommand{\subsectionautorefname}{Sect.}
	\renewcommand{\figureautorefname}{Fig.}
	\newcommand{\definitionautorefname}{Def.}
}

%\DeclarePairedDelimiter{\sem}{\llbracket}{\rrbracket} % Semantics of program.
%\newcommand{\BNF}{\enspace \ensuremath{\Vert} \enspace} % BNF separator

% Various operators
%\DeclareMathOperator{\In}{In}
%\DeclareMathOperator{\Id}{Id}
%\DeclareMathOperator{\Out}{Out}
%\DeclareMathOperator{\Occ}{Occ}
%\DeclareMathOperator{\PrD}{PrD}
%\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\poly}{poly}
%
%\DeclareMathOperator{\var}{var}

% Matrices shortcuts
\newcommand{\mat}[1]{\left(\begin{smallmatrix}#1\end{smallmatrix}\right)} % Shorthand for matrices
\newcommand{\zmat}{\mathbf{0}} % O-element for matrices
\newcommand{\umat}{\mathbf{1}} % 1-element for matrices

% Font for (inline) programs
\newcommand{\pr}{\lstinline[mathescape]}
\newcommand{\prc}{\lstinline[language=C]}
%\newcommand{\prp}{\lstinline[language=python]}
\newcommand{\mwp}{mwp\xspace}
\newcommand{\pymwp}{{pymwp}\xspace}
\newcommand{\pymwps}{pymwp\xspace}
\newcommand{\demov}{{0.2.1}}
\newcommand{\vtag}{\scalebox{.6}{\faTag}{ }}
% Smaller style for proof trees
%\ebproofnewstyle{small}{
%	separation = 1em, rule margin = .5ex,
%%	template = \footnotesize$\inserttext$,
%%	left label template =\scriptsize\inserttext,
%%	right label template =\scriptsize\inserttext
%}

% Comma after eg and ie
% https://english.stackexchange.com/a/16215
\newcommand*{\eg}{e.g.\@,\xspace}
\newcommand*{\Eg}{E.g.\@,\xspace}
\newcommand*{\cf}{cf.\@\xspace}
\newcommand*{\ie}{i.e.\@,\xspace}
\newcommand*{\aka}{a.k.a.\@\xspace}
\newcommand*{\Ie}{I.e.,\@\xspace}
\newcommand{\st}{s.t.\@\xspace}
\newcommand*{\resp}{resp.\@\xspace}
\newcommand*{\wrt}{w.r.t.\@\xspace}
\newcommand*{\wlg}{w.l.o.g.\@\xspace}
\renewcommand{\aka}{a.k.a.\@\xspace}

\makeatletter
\newcommand*{\etc}{%
	\@ifnextchar{.}%
	{etc}%
	{etc.\@\xspace}%
}
\makeatother

%\renewcommand{\oplus}{+}
%\renewcommand{\otimes}{\times}

%\makeatletter
%\renewcommand{\boxed}[1]{\text{\fboxsep=.2em\fbox{\m@th$\displaystyle#1$}}}
%\makeatother
%
%\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
%		\node[shape=circle,draw,inner sep=2pt] (char) {#1};}}
%	

% https://tex.stackexchange.com/a/596078
% \SetExtraKerning[unit=character]{encoding=*}{\textemdash={100,100}}

%\newcommand{\scc}{\textnormal{\scshape scc}\xspace}
%\newcommand{\sccs}{\textnormal{\scshape scc}s\xspace}
%
\newcommand{\comm}[1]{\mathtt{#1}}
%\newcommand{\DFG}{{\sc dfg}\xspace}
%\newcommand{\DFGs}{{\sc dfg}s\xspace}
%\newcommand{\dfg}[1]{\mathbb{M}(\comm{#1})}
%\newcommand{\dfgtilde}[1]{\mathbb{\tilde{M}}(\comm{#1})}
%\newcommand{\condcorr}[1]{\mathrm{Corr}^{\mathtt{if}}(#1)}
%\newcommand{\whilecorr}[1]{\mathrm{Corr}^{\mathtt{while}}(#1)}
%\newcommand{\corr}[1]{\mathrm{Corr}(#1)}
%\newcommand{\Var}{\mathrm{Vars}}

%\newcommand{\algorithmicendwhile}{\algorithmicend\ \algorithmicwhile}
%\algdef{SE}[WHILE]{While}{EndWhile}[1]{\algorithmicwhile\ #1\ \algorithmicdo}{} % Tweak syntax : no end marker for while loops
%\algtext*{EndWhile}% Remove "end while" text
%\algtext*{EndIf}% Remove "end if" text
%
%\algloopdefx{Use}[1]{\textbf{use}(#1)} % Adding a Use command
%\renewcommand{\gets}{=}
%

% % % Comments
% We define colors, then macro
% Colors chosen from https://coolors.co/
\definecolor{clem}{HTML}{60656F} % Cl√©ment Aubert
\definecolor{thos}{HTML}{ff0066} % Thomas Seiller
\definecolor{thor}{HTML}{EB6424} % Thomas Rubiano
\definecolor{neea}{HTML}{823038} % Neea Rusch
%
\newcommand{\clem}[1]{\textcolor{clem}{#1}}
\newcommand{\thos}[1]{\textcolor{thos}{#1}}
\newcommand{\thor}[1]{\textcolor{thor}{#1}}
\newcommand{\neea}[1]{\textcolor{neea}{#1}}

% Styling listings to look like minted,
% courtesy of https://tex.stackexchange.com/a/272133/34551
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{verbgray}{gray}{0.9}

\lstset{
	%	aboveskip={1.3\baselineskip},
	basicstyle=\ttfamily\linespread{4},
	%	breaklines=false,
	%	columns=flexible,
	commentstyle=\color[rgb]{0.127,0.427,0.514}\ttfamily\itshape\footnotesize,
	%	escapechar=@,
	%	extendedchars=true,
	%	identifierstyle=\color{black},
	%	inputencoding=latin1,
		keywordstyle=\color[HTML]{228B22}\bfseries,
		ndkeywordstyle=\color[HTML]{228B22}\bfseries,
			morekeywords={then},
	%	numbers=left,
	%	numberstyle=\tiny,
	%	prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
		stringstyle=\color[rgb]{0.639,0.082,0.082}\ttfamily,
	%	upquote=true,
	showstringspaces=false,
	escapeinside=||,
	%	numbers=none % we remove line numbering
}

\lstset{emph={%  
		then, do, parallel, skip, use, reduction, private, nowait, foreach%
	},emphstyle={\color[HTML]{228B22}\bfseries}%
}%

\lstdefinelanguage{imp}{morekeywords={if,then,else,while,do,loop}}


% console style listing
\lstnewenvironment{console}{\lstset{
	backgroundcolor=\color{verbgray},
	columns=fullflexible,
%	basicstyle=\ttfamily\footnotesize,
	showstringspaces=false,
	tabsize=4,keepspaces=true,
    showtabs=true,showspaces=false,
	framesep=2pt, frame=single,
	framerule=.5pt,
	xleftmargin=.01\textwidth,
	xrightmargin=.01\textwidth,
	breaklines=true,postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
	escapeinside={(*}{*)},
	emph={}
}}{}


%\newcommand\hypo{\Hypo}
%\newcommand\infer{\Infer}
%
%\newcommand{\replabel}{\label} % will be redefined in restatements

%\ExplSyntaxOn
%
%\NewDocumentCommand{\repeattheorem}{m}
%{
%	\group_begin:
%	\renewcommand{\thetheorem}{\ref{#1}}
%	\renewcommand{\replabel}[1]{\tag{\ref{##1}}}
%	\prop_item:Nn \g_reptheorem_prop { #1 }
%	\endtheorem
%	\group_end:
%}
%
%\NewDocumentEnvironment{reptheorem}{m+b}
%{
%	\prop_gput:Nnn \g_reptheorem_prop { #1 } { \theorem #2 \endtheorem }
%	\theorem#2\unskip\label{#1}\endtheorem
%}{}
%
%\prop_new:N \g_reptheorem_prop
%
%\ExplSyntaxOff
%\allowdisplaybreaks[1] % We're ok with some multi-lines equations being broken over multiple pages.

% Quotation
% from https://tex.stackexchange.com/a/391739
%\NewDocumentCommand{\bywhom}{m}{% the Bourbaki trick
%	{\nobreak\hfill\penalty50\hskip1em\null\nobreak
%		\hfill\mbox{\normalfont(#1)}%
%		\parfillskip=0pt \finalhyphendemerits=0 \par}%
%}
%
%\NewDocumentEnvironment{pquotation}{m}
%{\begin{quoting}[
%		indentfirst=true,
%		leftmargin=\parindent,
%		rightmargin=\parindent]\itshape}
%	{\bywhom{#1}\end{quoting}}
