\documentclass[crop,border={0pt 10pt 10pt 10pt}]{standalone}
\input{../latex/pics}
\begin{document}

\tikzstyle{team}  = [black,thick,dotted]
\tikzstyle{barrier}  = [thick,line width=.5mm,line cap=round]
\newcommand\sx{6}
\newcommand\sy{2}

\begin{tikzpicture}[align=center]

\draw[black,rectangle,fill=tgrey] (0,1) rectangle
    node[midway,xshift=13pt] {parallel region} ++(\sx,\sy);

\path  (.6,3.3) node (0) {\enspace} node[above=.1cm] (P) {primary}
	  ++(  1,0) node (1) {1}
	  ++(3.7,0) node (j) {\textit{j}}; 

\draw[thread,pthread,below] (P) -- ++(0,-\sy-1.3);
\draw[thread] (1.6,3) -- ++(0,-\sy);
\draw[thread] (5.3,3) -- ++(0,-\sy);
\draw[team] (0) -- (1);
\draw[team] (1) -- (j) node[above=.13cm,midway] {team of threads};
\draw[barrier] (0,1) -- (6,1);
\draw[black] (3,.73) -- ++(0,.27) node[below=.4cm] {barrier};

\end{tikzpicture}
\end{document}
